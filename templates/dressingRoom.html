<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
<title>HotPot prototype! yeah!!</title>

<!-- Typekit -->
<script type="text/javascript" src="http://use.typekit.com/qje5yme.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

<!-- jQuery -->
<script src="http://code.jquery.com/jquery-1.6.4.min.js" type="text/javascript"></script>

<!-- OpenTok JS -->
<script src="http://static.opentok.com/v0.91/js/TB.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){

	var openTokAPIKey = "6303111";
	
	// create and initialize a session object
	openTokSession = TB.initSession("{{ sessionId }}");
	
	// add event listeners... the handlers are in opentok.js
	openTokSession.addEventListener('sessionConnected', sessionConnectedHandler);
	
	// actually connect to that session using the API key and this user's token (generated in and sent over by socketstuff.py)
	openTokSession.connect(openTokAPIKey, "{{ token }}");
	
	function sessionConnectedHandler(event) {
		// start publishing my video
		publisher = openTokSession.publish('myVideo', { width: 370, height:240 });
	}
});

</script>

<link rel="stylesheet" href="/static/css/core.css" type="text/css" />

</head>
 
<body id="dressingRoom">

<div id="roomBg">

	<h1><img src="/static/images/HotpotLogo_Alpha.png"></h1>
	
	<div id="dressingRoomBox">
		<h2>Get Ready to Cook!</h2>
		
		<p class="intro">Set up your webcam and check your hair below. When all looks good, click “Let’s Go!” to enter the Cooking Room.</p>
		
		<div id="testVideoContainer">
			<div id="myVideo"></div>
		</div>
		
		<h3>Video not working?</h3>
		<ul>
			<li>Click the settings icon to the left and select your camera.</li>
			<li>Give Flash permission to access your camera.</li>
			<li>(Make sure you have Flash 11 installed.)</li>
		</ul>
		<a href="/rooms/{{ roomId }}" class="bigButton">Let's Go!</a>
		
	</div>

</div><!-- #roomBg -->
</body>
</html>